# Data acquisition

This directory contains scripts for the acquisition and initial curation of molecular and
bioactivity data from public chemical databases, primarily ChEMBL.
The workflow is divided into two main stages: data retrieval and data filtering.

## Files

## Input Files 
**`molecules.csv`**
- Contains ChEMBL assay IDs in a single column (aidextid).
- These IDs are used by parte2.py to retrieve activity and molecule data.

## Output Files
**`molecule_definitive.csv`**
Generated by parte2.py. Contains full activity and molecule-level information for all queried assays.

**`molecule_filter.csv`**
Generated by parte3.py. Contains only rows where assay_description contains one of the following keywords:
- Antioxidant
- antioxidant
- lipid peroxidation.

  
**Parte 2 - ChEMBL Data Retrieval**

## Data Retrieved

### Activity-Level Information
- Standard activity type, relation, value, and units
- pChEMBL value
- Data validity and activity comments
- Ligand efficiency metrics (when available)
- Assay metadata:
  - Assay description
  - Assay type
  - BAO format and label
- Target identifiers and target organism
- Document identifiers, journal name, and publication year

### Molecule-Level Information
- ChEMBL molecule ID
- Preferred molecule name
- Development phase (max phase)
- Canonical SMILES
- Physicochemical properties:
  - Molecular weight
  - ALogP
  - Rule-of-five violations

---

## Workflow Overview
1. Load assay IDs from the input CSV file
2. Validate and clean assay identifiers
3. Query the ChEMBL Activity API for each assay
4. Detect and parse API responses in JSON or XML format
5. Extract activity records
6. Retrieve detailed molecule information via the ChEMBL Molecule API
7. Cache molecule data to avoid repeated API requests
8. Merge activity-level and molecule-level information
9. Append results incrementally to the output CSV file

---

## API Handling and Robustness
- Supports both JSON and XML API responses
- Automatic retry mechanism for failed API requests
- Request throttling to avoid exceeding API rate limits
- Local molecule-level cache to reduce redundant API calls
- Graceful handling of missing or incomplete data fields

---

## Requirements
- Python ≥ 3.8
- Required libraries:
  - pandas
  - requests

---

## Execution
Run the script from the command line:

python parte2.py

This step generates the complete dataset:

- molecule_definitive.csv

**Parte 3 - ChEMBL Antioxidant Assay Data Filtering**
# ChEMBL Antioxidant Assay Data Filtering

## Script Purpose

- Identify antioxidant-related assays within a ChEMBL dataset  
- Support data curation for further computational analyses 
- Generate a clean and biologically focused subset of molecules

---

## Filtering Criteria

The script keeps only rows where the **`assay_description`** column contains at least one of the following keywords (case-sensitive):

- `Antioxidant`  
- `antioxidant`  
- `lipid peroxidation`  

---

## Input and Output Files

### Input file
- `molecule_definitive.csv`  
  Dataset generated during the data acquisition step.

### Output file
- `molecule_filter.csv`  
  Filtered dataset containing only antioxidant-related assays.

---

## Requirements

Before running the script, make sure you have:

- Python ≥ 3.8  
- Required libraries:
  - `pandas`
 
  ## Execution
Run the script from the command line:

python parte3.py

This step generates the complete dataset:

- molecule_filter.csv
